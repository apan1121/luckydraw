(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{354:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-page"},[e("header-bar"),t._v(" "),e("main",{staticStyle:{padding:"0px 10px"}},[t.candidateList.length>0?e("div",{staticClass:"shortlist-box"},[e("transition-group",{staticClass:"shortlist",attrs:{name:"shortlist",tag:"div","enter-active-class":"fadeInUp","leave-active-class":"fadeOutDown"}},t._l(t.candidateListBySort,(function(t,i){return e("candidate-box",{key:t.sn,attrs:{"candidate-index":i,"candidate-info":t}})})),1)],1):[t._m(0),t._v(" "),e("div",{staticClass:"shortlist-empty-box"},[e("div",{staticClass:"shortlist-empty-info text-left"},[t._m(1),t._v(" "),e("ol",[e("li",{staticClass:"mb-2"},[e("a",{attrs:{href:"javascript:;"},on:{click:t.editCandidateList}},[t._v("輸入抽獎名單")])]),t._v(" "),e("li",{staticClass:"mb-2"},[e("a",{attrs:{href:"javascript:;"},on:{click:t.triggerTutorial}},[t._v("觀看教學導覽")])]),t._v(" "),e("li",{staticClass:"mb-2"},[e("a",{attrs:{href:"javascript:;"},on:{click:t.createRandomLuckyDrawAct}},[t._v("隨機建立範例測試")])])])])])]],2),t._v(" "),t.config.backgroundImg?e("div",{staticClass:"bg-img",style:{"background-image":"url("+t.config.backgroundImg+")",opacity:t.config.backgroundOpacity}}):t._e(),t._v(" "),e("lucky-draw-storage-box")],1)};r._withStripped=!0;var o=i(97).a,a=i(9),n=Object(a.a)(o,r,[function(){var t=this._self._c;return t("div",{staticClass:"alert alert-primary alert-dismissible fade show",attrs:{role:"alert"}},[t("i",{staticClass:"fas fa-bullhorn"}),this._v(" 這是一個方便的免費線上抽獎程式，無論您是 FB IG 粉絲團行銷抽獎活動、公司年度春酒尾牙現場抽獎抽獎，或是活動聚會節慶抽獎都能符合您的需求，簡單易上手的輸入介面讓你可以快速來一場刺激又公平的抽獎活動。\n                "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this._self._c;return t("p",[this._v("\n                        尚未建立抽獎名單 "),t("br"),this._v("\n                        您可以：\n                    ")])}],!1,null,"5d24ba18",null);e.default=n.exports},97:function(t,e,i){"use strict";(function(t){var r=i(144),o=i(0),a=i(2);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.a={components:{HeaderBar:()=>i.e(7).then(i.bind(null,348)),LuckyDrawStorageBox:()=>i.e(9).then(i.bind(null,349)),CandidateBox:()=>i.e(2).then(i.bind(null,147))},filters:{},props:{},data:()=>({}),computed:s({},Object(a.c)(["luckyDrawFocusKey","luckyDrawIsRandom","config","candidateList","candidateListBySort","candidateList_sort","prizeList","randomCandidateNames","randomCandidatePos","randomPrize"])),watch:{config:{deep:!0,handler(){this.saveToLocalStorageAct()}},candidateList:{deep:!0,handler(t,e){this.saveToLocalStorageAct()}},candidateList_sort:{deep:!0,handler(t,e){this.saveToLocalStorageAct()}},candidateListInput:{deep:!0,handler(t,e){this.saveToLocalStorageAct()}},prizeList:{deep:!0,handler(t,e){this.saveToLocalStorageAct()}},luckyDrawFocusKey:{deep:!0,handler(){}},luckyDrawIsRandom:{deep:!0,handler(){this.triggerRandomTutorial()}}},created(){},mounted(){this.init()},updated(){},destroyed(){},methods:s(s(s({},Object(a.b)({})),Object(a.d)({setFavicon:"setFavicon",initSystem:"initSystem",saveToLocalStorage:"saveToLocalStorage",listenLocalStorageChange:"listenLocalStorageChange",createRandomLuckyDraw:"createRandomLuckyDraw",triggerModal:"triggerModal",CheckAdBlock:"CheckAdBlock",setIsTutorial:"setIsTutorial"})),{},{init(){var t=this;t.setFavicon("default"),o.g.mixpanel("LuckyDraw_view",{}),o.g.gtag("event","page_view"),t.initSystem(),o.c.listen("luckyDrawStorage",e=>{t.listenLocalStorageChange()}),Object(r.detectAnyAdblocker)().then(e=>{t.CheckAdBlock(e)})},saveToLocalStorageAct(){var t=this;clearTimeout(t.saveToLocalStorageTimer),t.saveToLocalStorageTimer=setTimeout(()=>{t.saveToLocalStorage()},500)},editCandidateList(){this.triggerModal({key:"CandidateList"})},createRandomLuckyDrawAct(){this.createRandomLuckyDraw(),o.g.mixpanel("LuckyDrawRandom_click",{config:JSON.parse(JSON.stringify(this.config)),candidateList:JSON.parse(JSON.stringify(this.candidateList)),candidateList_sort:JSON.parse(JSON.stringify(this.candidateList_sort)),prizeList:JSON.parse(JSON.stringify(this.prizeList))}),o.g.gtag("event","LuckyDrawRandom_click",{config:JSON.parse(JSON.stringify(this.config)),candidateList:JSON.parse(JSON.stringify(this.candidateList)),candidateList_sort:JSON.parse(JSON.stringify(this.candidateList_sort)),prizeList:JSON.parse(JSON.stringify(this.prizeList))})},gotoDemoVideo(){o.g.mixpanel("LuckyDrawDemoVideo_click"),o.g.gtag("event","LuckyDrawDemoVideo_click")},triggerRandomTutorial(){var e=this;if(this.luckyDrawIsRandom){var i={offset:{top:60,bottom:60},startCallback(){e.setIsTutorial(!0),o.g.mixpanel("TutorialStart_trigger",{type:"RandomTutorial"}),o.g.gtag("event","TutorialStart_trigger",{type:"RandomTutorial"})},closeCallback(){e.setIsTutorial(!1),o.g.mixpanel("TutorialEnd_trigger",{type:"RandomTutorial"}),o.g.gtag("event","TutorialEnd_trigger",{type:"RandomTutorial"})},step_callback(t,e){o.g.mixpanel("TutorialStep_trigger",{type:"RandomTutorial",index:e.index}),o.g.gtag("event","TutorialStep_trigger",{type:"RandomTutorial",index:e.index})}},r=[{title:"新手教學",intro:"恭喜您建立了一個範例抽獎活動"},{target:'.candidate-box[data-index="5"] .candidate-wrapper',title:"候選人",intro:"每一個框框都是一個候選人"},{target:'.candidate-box[data-index="5"] .candidate-wrapper .candidate-name',title:"候選人是誰",intro:"在這裡你可以呈現他的名字"},{target:'.candidate-box[data-index="5"] .candidate-wrapper .candidate-pos',title:"豐富他的資料",intro:"雖然是非必要，但加上職稱感覺會更豐富",beforeAction(t,i,r){e.triggerModal({key:"Setting",close:!0}),setTimeout(()=>{r()},10)}},{target:'.nav-link[rel="setting"]',title:"你可以有你的風格",intro:"在設定裡面可以設定屬於你的風格，接下來跟你介紹可以做得多客製化",beforeAction(e,i,r){t("#navbarCollapse").addClass("show"),setTimeout(()=>{r()},10)},afterAction(e,i,r){t("#navbarCollapse").removeClass("show"),setTimeout(()=>{r()},10)}},{target:'#SettingBox .box-setting[rel="boxSize"]',scrollTarget:"#SettingBox",title:"候選區塊不滿意",intro:"您可以在這邊設定區塊的寬高與間距",beforeAction(t,i,r){e.triggerModal({key:"Setting"}),setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),r()},100)}},{target:'#SettingBox .box-setting[rel="fontSize"]',scrollTarget:"#SettingBox",title:"字太小嗎？",intro:"人名與職稱都是文字大小都可以改",beforeAction(t,e,i){setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),i()},100)}},{target:'#SettingBox .box-setting[rel="boxColor"]',scrollTarget:"#SettingBox",title:"顏色太醜",intro:"區塊總共有三種狀態，每種狀態都有自己的顏色，當然您可以自由設定",beforeAction(t,e,i){setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),i()},100)}},{target:"#SettingBox .clearAllBtn",scrollTarget:"#SettingBox",title:"玩夠了？",intro:"如果你玩夠了我們呈現的範例抽獎，可以點擊這裡清楚所有資料重新開始",beforeAction(t,i,r){e.triggerModal({key:"Setting"}),setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),r()},100)}},{title:"開放想法",intro:"當然你也可以不用抽人，不侷限讓抽獎更多變化，一場有趣的抽獎活動就由你來建立。",beforeAction(t,i,r){e.triggerModal({key:"Setting",close:!1}),setTimeout(()=>{r()},100)}}];new o.a(r,i).run()}},triggerTutorial(){var e=this,i={offset:{top:60,bottom:60},startCallback(){e.setIsTutorial(!0),o.g.mixpanel("TutorialStart_trigger",{type:"Tutorial"}),o.g.gtag("event","TutorialStart_trigger",{type:"Tutorial"})},closeCallback(){e.setIsTutorial(!1),o.g.mixpanel("TutorialEnd_trigger",{type:"Tutorial"}),o.g.gtag("event","TutorialEnd_trigger",{type:"Tutorial"})},step_callback(t,e){o.g.mixpanel("TutorialStep_trigger",{type:"Tutorial",index:e.index}),o.g.gtag("event","TutorialStep_trigger",{type:"Tutorial",index:e.index})}},r=e.randomCandidateNames.split(","),a=e.randomCandidatePos.split(","),n=e.randomPrize.split(","),s=()=>{var t=o.f.randRange(0,a.length-1),e=a[t];return e.includes("_o")&&(e=e.replace("_o",""),a.splice(t,1)),e},l=[{target:"",title:"新手教學",intro:"歡迎您使用 LuckyDraw 抽獎機，這是一個有趣又高彈性的抽獎機器，適合用在 公司活動尾牙也適合各大社群抽獎，到底該如何使用接下來告訴您。"},{target:"",title:"總是需要有人",intro:"抽獎最重要的就是人，您的檯面上一個人都沒有怎麼抽呢？"},{target:'.navbar .navbar-nav .nav-item .nav-link[rel="CandidateList"]',title:"候選名單",intro:"來這裡建立一批候選名單吧！",beforeAction(i,r,o){t("#navbarCollapse").addClass("show"),e.triggerModal({key:"CandidateList",close:!1}),setTimeout(()=>{o()},10)},afterAction(e,i,r){t("#navbarCollapse").removeClass("show"),setTimeout(()=>{r()},10)}},{target:'#CandidateListBox textarea[name="candidateListTextarea"]',title:"輸入候選名單",intro:"來這裡建立一批候選名單吧！<br>一行一個候選人，您可以輸入他的姓名與職稱（非必填）",beforeAction(i,r,o){t("#navbarCollapse").removeClass("show"),e.triggerModal({key:"CandidateList"}),setTimeout(()=>{o()},100)},afterAction(t,e,i){}},{target:'#CandidateListBox textarea[name="candidateListTextarea"]',title:"輸入候選名單",intro:"就像這樣",beforeAction(e,i,a){setTimeout(()=>{for(var e,i=[],n=0;n<o.f.randRange(10,15);n+=1)i.push("".concat((e=void 0,e=o.f.randRange(0,r.length-1),r.splice(e,1)[0]),",").concat(s()));i=i.join("\n"),t('#CandidateListBox textarea[name="candidateListTextarea"]').val(i),t('#CandidateListBox textarea[name="candidateListTextarea"]')[0].dispatchEvent(new Event("input")),a()},100)},afterAction(t,e,i){}},{target:"#CandidateListBox .btn-primary",title:"存起來吧",intro:"既然寫好了存起來試試看",beforeAction(t,e,i){setTimeout(()=>{i()},100)},afterAction(e,i,r){t("#CandidateListBox .btn-primary").trigger("click"),setTimeout(()=>{r()},100)}},{target:".shortlist-box",title:"候選名單",intro:"候選名單建立好了，這些就是即將要被抽選的對象",beforeAction(t,e,i){setTimeout(()=>{i()},100)}},{target:"",title:"獎品勒！？",intro:"候選人建立好了，接下來我們要抽什麼呢？"},{target:'.navbar .navbar-nav .nav-item .nav-link[rel="PrizeList"]',title:"獎項名單",intro:"你的活動想抽什麼都可以在這邊建立",beforeAction(i,r,o){t("#navbarCollapse").addClass("show"),e.triggerModal({key:"PrizeList",close:!1}),setTimeout(()=>{o()},10)},afterAction(e,i,r){t("#navbarCollapse").removeClass("show"),setTimeout(()=>{r()},10)}},{target:"#PrizeListBox #AddPrizeGroup",title:"獎項名單",intro:"需要建立一筆獎項資訊，除了獎項名稱外也可以設定此獎項的數量。",scrollTarget:"#PrizeListBox",beforeAction(i,r,o){t("#navbarCollapse").removeClass("show"),document.querySelector("#PrizeListBox").scroll({top:0}),e.triggerModal({key:"PrizeList"}),setTimeout(()=>{var e=t("#PrizeListBox #AddPrize");e&&e.trigger("click"),o()},100)}},{target:"#PrizeListBox #AddPrizeGroup",title:"獎項名單",intro:"我來示範一次",scrollTarget:"#PrizeListBox",beforeAction(e,i,r){document.querySelector("#PrizeListBox").scroll({top:0});var a,s={title:(a=o.f.randRange(0,n.length-1),n.splice(a,1)[0]),amount:o.f.randRange(3,5)};for(var l in s)t('#PrizeListBox #AddPrizeGroup input[name="'.concat(l,'"]')).val(s[l]),t('#PrizeListBox #AddPrizeGroup input[name="'.concat(l,'"]'))[0].dispatchEvent(new Event("input"));setTimeout(()=>{r()},100)},afterAction(e,i,r){t("#PrizeListBox #AddPrizeGroup .input-group-text").trigger("click"),setTimeout(()=>{r()},10)}},{target:"#PrizeListBox .prizeListGroup .handler",title:"獎項名單",intro:"你可以透過這個拖拉調整順序",scrollTarget:"#PrizeListBox",beforeAction(t,e,i){document.querySelector("#PrizeListBox").scroll({top:0}),setTimeout(()=>{i()},100)},afterAction(t,e,i){setTimeout(()=>{i()},10)}},{target:"#PrizeListBox #AddPrize",title:"獎項名單",intro:"如果你還有其他獎項，可以點擊這邊再新增",scrollTarget:"#PrizeListBox",beforeAction(t,e,i){document.querySelector("#PrizeListBox").scroll({top:0}),setTimeout(()=>{i()},100)},afterAction(t,i,r){e.triggerModal({key:"PrizeList",close:!0}),setTimeout(()=>{r()},10)}},{target:"",title:"刺激的來了",intro:"候選項目跟獎項都設定好了，當然接下來是重頭戲抽獎！",beforeAction(t,e,i){setTimeout(()=>{i()},100)},afterAction(t,e,i){setTimeout(()=>{i()},10)}},{target:'.navbar .navbar-nav .nav-item .nav-link[rel="GetLucky"]',title:"該要抽獎",intro:"點擊這邊選擇你的抽獎項目",beforeAction(i,r,o){t("#navbarCollapse").addClass("show"),e.triggerModal({key:"GetLucky",close:!1}),setTimeout(()=>{o()},10)},afterAction(e,i,r){t("#navbarCollapse").removeClass("show"),setTimeout(()=>{r()},10)}},{target:"#GetLuckyBox .get-lucky-list",title:"選一個",intro:"這裡是所有獎項的列表，包含了可抽數量與已抽數量",scrollTarget:"#GetLuckyBox",beforeAction(t,i,r){e.triggerModal({key:"GetLucky"}),setTimeout(()=>{r()},10)},afterAction(t,e,i){setTimeout(()=>{i()},10)}},{target:"#GetLuckyBox .get-lucky-list .prizeInfo",title:"選一個",intro:"我們選這個來抽獎吧，用力抽下去",scrollTarget:"#GetLuckyBox",beforeAction(t,i,r){e.triggerModal({key:"GetLucky"}),document.querySelector("#GetLuckyBox").scroll({top:0}),setTimeout(()=>{r()},10)},afterAction(e,i,r){t("#GetLuckyBox .get-lucky-list .prizeInfo").trigger("click"),setTimeout(()=>{r()},10)}},{target:".shortlist",title:"抽獎中",intro:"動畫呈現抽獎情況，隨機選擇保證公平",beforeAction(t,e,i){setTimeout(()=>{i()},10)},waitToNextAction(i,r){e.waitToNextActionTimer=null,e.waitToNextActionTimer=setInterval(()=>{t("#LuckyBox").is(":visible")&&(clearInterval(e.waitToNextActionTimer),r())},500)}},{target:"#LuckyBox .lucky-info",title:"抽中了！",intro:"這裡呈現被抽中的候選人與中獎資訊",scrollTarget:"#LuckyBox",beforeAction(t,e,i){document.querySelector("#LuckyBox").scroll({top:0}),setTimeout(()=>{i()},10)}},{target:"#LuckyBox .cancel",title:"人不在",intro:"抽到歸抽到，這人卻不在現場怎麼辦，點擊這裡取消這次抽獎",scrollTarget:"#LuckyBox",beforeAction(t,e,i){document.querySelector("#LuckyBox").scroll({top:0}),setTimeout(()=>{i()},10)}},{target:"#LuckyBox .save",title:"天選之人！",intro:"確定就是這人了，把這候選人儲存起來！",scrollTarget:"#LuckyBox",beforeAction(t,e,i){document.querySelector("#LuckyBox").scroll({top:0}),setTimeout(()=>{i()},10)},afterAction(e,i,r){t("#LuckyBox .save").trigger("click"),setTimeout(()=>{r()},10)}},{target:".shortlist",title:"完成",intro:"您已經完成了一次抽獎，感覺很不錯吧！"},{target:'.navbar .navbar-nav .nav-item .nav-link[rel="Result"]',title:"抽獎結果",intro:"很難統計抽獎結果嗎？點擊這裡來看抽獎結果",beforeAction(i,r,o){t("#navbarCollapse").addClass("show"),e.triggerModal({key:"Result",close:!1}),setTimeout(()=>{o()},10)},afterAction(e,i,r){t("#navbarCollapse").removeClass("show"),setTimeout(()=>{r()},10)}},{target:"#ResultBox .table tbody tr",title:"中獎人",intro:"這裡可以呈現中獎人資訊與得獎資訊！",scrollTarget:"#ResultBox",beforeAction(t,i,r){e.triggerModal({key:"Result"}),setTimeout(()=>{document.querySelector("#ResultBox").scroll({top:0}),r()},10)},afterAction(t,e,i){setTimeout(()=>{i()},10)}},{target:"#ResultBox .download-btn",title:"下載",intro:"中獎人太多不好管理，那就下載成為檔案吧！",scrollTarget:"#ResultBox",beforeAction(t,e,i){document.querySelector("#ResultBox").scroll({top:0}),setTimeout(()=>{i()},100)},afterAction(t,i,r){e.triggerModal({key:"Result",close:!0}),setTimeout(()=>{r()},10)}},{title:"接近尾聲",intro:"Lucky Draw 抽獎機的介紹也到了尾聲了，很開心你看到這邊。啊！突然想到似乎還有一些事情沒介紹",beforeAction(t,e,i){setTimeout(()=>{i()},100)}},{target:'.nav-link[rel="setting"]',title:"你可以有你的風格",intro:"在設定裡面可以設定屬於你的風格，接下來跟你介紹可以做得多客製化",beforeAction(e,i,r){t("#navbarCollapse").addClass("show"),setTimeout(()=>{r()},10)},afterAction(e,i,r){t("#navbarCollapse").removeClass("show"),setTimeout(()=>{r()},10)}},{target:'#SettingBox .box-setting[rel="boxSize"]',scrollTarget:"#SettingBox",title:"候選區塊不滿意",intro:"您可以在這邊設定區塊的寬高與間距",beforeAction(t,i,r){e.triggerModal({key:"Setting"}),setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),r()},100)}},{target:'#SettingBox .box-setting[rel="fontSize"]',scrollTarget:"#SettingBox",title:"字太小嗎？",intro:"人名與職稱都是文字大小都可以改",beforeAction(t,e,i){setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),i()},100)}},{target:'#SettingBox .box-setting[rel="boxColor"]',scrollTarget:"#SettingBox",title:"顏色太醜",intro:"區塊總共有三種狀態，每種狀態都有自己的顏色，當然您可以自由設定",beforeAction(t,e,i){setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),i()},100)}},{target:"#SettingBox .clearAllBtn",scrollTarget:"#SettingBox",title:"展示即將結束",intro:"可以點擊這裡清楚所有資料重新開始",beforeAction(t,i,r){e.triggerModal({key:"Setting"}),setTimeout(()=>{document.querySelector("#SettingBox").scroll({top:0}),r()},100)}},{title:"開放想法",intro:"當然你也可以不用抽人，不侷限讓抽獎更多變化，一場有趣的抽獎活動就由你來建立。",beforeAction(t,i,r){e.triggerModal({key:"Setting",close:!1}),setTimeout(()=>{r()},100)}}];new o.a(l,i).run()}})}}).call(this,i(14))}}]);